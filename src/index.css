@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Basics (مثل قبل) ===== */
html,
body,
#root {
  overflow-x: hidden;
  width: 100%;
}
* {
  box-sizing: border-box;
}
html {
  scroll-behavior: smooth;
}
body {
  @apply bg-base-100 text-base-content;
}
.container {
  @apply max-w-7xl mx-auto px-4;
}
@layer base {
  h1,
  h2,
  h3 {
    font-family: theme("fontFamily.display");
  }
}
h1 {
  @apply text-4xl sm:text-5xl md:text-6xl font-extrabold;
}
h2 {
  @apply text-3xl sm:text-4xl md:text-5xl font-extrabold;
}
h3 {
  @apply text-2xl sm:text-3xl font-bold;
}

/* ===== Utilities ===== */
@layer utilities {
  :root {
    /* ↑ 1) مربع‌ها بزرگ‌تر */
    --grid-size: 18px; /* بود 14px */
    --grid-size-soft: 36px; /* لایه نرم را عملاً استفاده نمی‌کنیم */
  }

  .hero-mask-90 {
    pointer-events: none;
    -webkit-mask-image: radial-gradient(
      120% 95% at 50% 45%,
      #000 0%,
      #000 65%,
      transparent 92%
    );
    mask-image: radial-gradient(
      120% 95% at 50% 45%,
      #000 0%,
      #000 65%,
      transparent 92%
    );
  }

  /* Plain base */
  .hero-plain {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: radial-gradient(
      circle at 50% 45%,
      rgba(255, 255, 255, 0.35) 0%,
      rgba(255, 255, 255, 0.24) 40%,
      rgba(255, 255, 255, 0.14) 100%
    );
  }
  [data-theme="dark"] .hero-plain {
    background: radial-gradient(
      circle at 50% 45%,
      rgba(10, 16, 28, 0.72) 0%,
      rgba(10, 16, 28, 0.66) 40%,
      rgba(10, 16, 28, 0.6) 100%
    );
  }

  /* Bleed (blue glow) */
  .hero-bleed {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }
  [data-theme="light"] .hero-bleed {
    background: radial-gradient(
      60% 40% at 50% 15%,
      rgba(125, 169, 255, 0.05),
      transparent 70%
    );
    mix-blend-mode: screen;
  }
  [data-theme="dark"] .hero-bleed {
    background: radial-gradient(
      60% 40% at 50% 18%,
      rgba(100, 160, 255, 0.1),
      transparent 70%
    );
    mix-blend-mode: screen;
  }

  /* ===== Base grid ===== */
  .hero-grid,
  .hero-grid-soft {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-position: 0 0;
  }
  .hero-grid {
    background-size: var(--grid-size) var(--grid-size);
  }
  .hero-grid-soft {
    display: none;
  } /* جلوگیری از مربع‌های ریز اضافی */

  /* 2) گرید پررنگ‌تر */
  [data-theme="light"] .hero-grid {
    background-image: linear-gradient(
        rgba(0, 0, 0, 0.32) 1px,
        rgba(0, 0, 0, 0) 1px
      ),
      /* بود ~0.22 */
        linear-gradient(90deg, rgba(0, 0, 0, 0.32) 1px, rgba(0, 0, 0, 0) 1px);
  }
  [data-theme="dark"] .hero-grid {
    background-image: linear-gradient(
        rgba(170, 200, 255, 0.18) 1px,
        rgba(0, 0, 0, 0) 1px
      ),
      /* بود ~0.12-0.14 */
        linear-gradient(
          90deg,
          rgba(170, 200, 255, 0.18) 1px,
          rgba(0, 0, 0, 0) 1px
        );
  }

  /* Opacity پایه */
  .hero-grid {
    opacity: 0.26;
  } /* بود 0.18 */
  [data-theme="dark"] .hero-grid {
    opacity: 0.14;
  } /* بود 0.10 */

  /* 3) Side fade زودتر از راست/چپ روی لایه پایه */
  .grid-fade {
    -webkit-mask-image: radial-gradient(
      78% 100% at 50% 50%,
      /* عرض بیضی کمتر => کناره‌ها زودتر فید */ rgba(0, 0, 0, 1) 0%,
      rgba(0, 0, 0, 1) 40%,
      /* مرکز تا حدود 40% کامل */ rgba(0, 0, 0, 0.8) 60%,
      /* شروع فید محسوس */ rgba(0, 0, 0, 0.35) 82%,
      rgba(0, 0, 0, 0) 100%
    );
    mask-image: radial-gradient(
      78% 100% at 50% 50%,
      rgba(0, 0, 0, 1) 0%,
      rgba(0, 0, 0, 1) 40%,
      rgba(0, 0, 0, 0.8) 60%,
      rgba(0, 0, 0, 0.35) 82%,
      rgba(0, 0, 0, 0) 100%
    );
  }

  /* ===== Center boost (وسط خیلی واضح) ===== */
  .hero-grid-center {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
    background-position: 0 0;
    background-size: var(--grid-size) var(--grid-size);

    /* خطوط پررنگ‌تر برای مرکز */
    background-image: linear-gradient(
        rgba(0, 0, 0, 0.42) 1px,
        rgba(0, 0, 0, 0) 1px
      ),
      linear-gradient(90deg, rgba(0, 0, 0, 0.42) 1px, rgba(0, 0, 0, 0) 1px);
    opacity: 0.68; /* شدت مرکز بیشتر از قبل */

    /* مرکز کامل؛ راست/چپ زودتر فید (بیضی باریک‌تر) */
    -webkit-mask-image: radial-gradient(
      60% 56% at 50% 50%,
      /* باریک‌تر از قبل */ rgba(0, 0, 0, 1) 0%,
      rgba(0, 0, 0, 1) 50%,
      rgba(0, 0, 0, 0.6) 66%,
      rgba(0, 0, 0, 0.15) 82%,
      rgba(0, 0, 0, 0) 100%
    );
    mask-image: radial-gradient(
      60% 56% at 50% 50%,
      rgba(0, 0, 0, 1) 0%,
      rgba(0, 0, 0, 1) 50%,
      rgba(0, 0, 0, 0.6) 66%,
      rgba(0, 0, 0, 0.15) 82%,
      rgba(0, 0, 0, 0) 100%
    );
  }
  [data-theme="dark"] .hero-grid-center {
    background-image: linear-gradient(
        rgba(190, 215, 255, 0.34) 1px,
        rgba(0, 0, 0, 0) 1px
      ),
      linear-gradient(
        90deg,
        rgba(190, 215, 255, 0.34) 1px,
        rgba(0, 0, 0, 0) 1px
      );
    opacity: 0.5; /* کمی قوی‌تر از قبل ولی هنوز ویدیو معلومه */
  }

  /* سایر افکت‌ها (بدون تغییر رفتاری) */
  .hero-highlight {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }
  [data-theme="light"] .hero-highlight {
    background: radial-gradient(
      circle at 50% 42%,
      rgba(255, 255, 255, 0.2),
      transparent 72%
    );
  }
  [data-theme="dark"] .hero-highlight {
    background: radial-gradient(
      circle at 50% 42%,
      rgba(255, 255, 255, 0.12),
      transparent 72%
    );
  }

  .hero-shadow {
    position: absolute;
    inset: -6% -4% -10% -4%;
    pointer-events: none;
    background: radial-gradient(
        70% 46% at 50% 40%,
        rgba(0, 0, 0, 0.3),
        transparent 68%
      ),
      radial-gradient(85% 58% at 50% 48%, rgba(0, 0, 0, 0.18), transparent 72%);
    mix-blend-mode: multiply;
  }
  [data-theme="dark"] .hero-shadow {
    background: radial-gradient(
        70% 46% at 50% 40%,
        rgba(0, 0, 0, 0.42),
        transparent 68%
      ),
      radial-gradient(85% 58% at 50% 48%, rgba(0, 0, 0, 0.28), transparent 72%);
  }

  .hero-topfade {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }
  [data-theme="light"] .hero-topfade {
    background: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.36),
      rgba(255, 255, 255, 0) 28%
    );
  }
  [data-theme="dark"] .hero-topfade {
    background: linear-gradient(
      180deg,
      rgba(4, 6, 10, 0.48),
      rgba(0, 0, 0, 0) 32%
    );
  }

  .hero-vignette {
    position: absolute;
    inset: -12% -8% -24% -8%;
    pointer-events: none;
  }
  [data-theme="light"] .hero-vignette {
    background: radial-gradient(
      60% 40% at 50% 10%,
      rgba(0, 0, 0, 0.14),
      transparent 58%
    );
  }
  [data-theme="dark"] .hero-vignette {
    background: radial-gradient(
      60% 40% at 50% 10%,
      rgba(0, 0, 0, 0.36),
      transparent 58%
    );
  }

  /* Anti-pixel for very small screens */
  @media (max-width: 480px) {
    :root {
      --grid-size: 20px;
      --grid-size-soft: 40px;
    }
  }
}

/* موبایل safe fixes */
@media (max-width: 640px) {
  .hero-shadow,
  .hero-vignette {
    inset: 0 !important;
  }
}
